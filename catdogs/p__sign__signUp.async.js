(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"0Tc6":function(e,t,a){"use strict";var n=a("d6i3"),r=a.n(n),s=a("p0pE"),o=a.n(s),i=a("1l/V"),l=a.n(i),c=(a("miYZ"),a("tsqr")),p=a("PkBI"),u=a.n(p);function m(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function d(e,t){var a={data:e,headers:{}};if(t&&a.data&&0!==a.data.code)throw c["a"].error(a.data.msg),a.data;return a.data}var g={postJSON:f};function f(e,t){return h.apply(this,arguments)}function h(){return h=l()(r.a.mark(function e(t,a){var n,s,i,l,c=arguments;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:{},s=!(c.length>3&&void 0!==c[3])||c[3],e.next=4,u()(t,o()({},n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}));case 4:return i=e.sent,m(i),e.next=8,i.json();case 8:l=e.sent,d(l,s);case 10:case"end":return e.stop()}},e)})),h.apply(this,arguments)}var v=g;function w(e){var t=e.email,a=e.password;return console.log(v.postJSON),v.postJSON("/api/register",{email:t,password:a})}function y(e){var t=e.email,a=e.password;return v.postJSON("/api/login",{email:t,password:a})}t["a"]={signUpByEmail:w,signInByEmail:y}},HSJP:function(e,t,a){e.exports={"sign-page-header":"sign-page-header___3iOdp","login-form":"login-form___3AaoB","login-form-forgot":"login-form-forgot___2gFL6","login-form-button":"login-form-button___2eZL_"}},ooX6:function(e,t,a){"use strict";a.r(t);a("+L6B");var n=a("2/Rp"),r=(a("Pwec"),a("CtXQ")),s=(a("5NDa"),a("5rEg")),o=(a("y8nQ"),a("Vl3Y")),i=a("d6i3"),l=a.n(i),c=(a("2qtc"),a("kLXV")),p=a("1l/V"),u=a.n(p),m=a("q1tI"),d=a.n(m),g=a("mOP9"),f=a("usdK"),h=a("HSJP"),v=a.n(h),w=a("0Tc6");class y extends d.a.Component{constructor(e){var t;super(e),t=this,this.handleSignUp=(e=>{e.preventDefault(),this.props.form.validateFields(function(){var e=u()(l.a.mark(function e(a,n){return l.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=11;break}return e.prev=1,e.next=4,w["a"].signUpByEmail(n);case 4:e.sent,t.setState({email:t.props.form.getFieldValue("email"),registerDone:!0},()=>{c["a"].success({title:"\u6ce8\u518c\u6210\u529f",content:d.a.createElement("div",null,"\u8bf7\u524d\u5f80",d.a.createElement("span",{style:{fontWeight:"bold"}},t.state.email),"\u67e5\u770b\u6536\u4ef6\u7bb1\uff0c\u6fc0\u6d3b\u8d26\u53f7"),onOk(){f["a"].push("/sign/signin")}})}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("error code:",e.t0.code);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,a){return e.apply(this,arguments)}}())}),this.state={email:"",registerDone:!1}}render(){var e=this.props.form.getFieldDecorator;return d.a.createElement(o["a"],{onSubmit:this.handleSignUp,className:v.a["login-form"]},d.a.createElement(o["a"].Item,null,e("email",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}]})(d.a.createElement(s["a"],{prefix:d.a.createElement(r["a"],{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u90ae\u7bb1"}))),d.a.createElement(o["a"].Item,null,e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]})(d.a.createElement(s["a"],{prefix:d.a.createElement(r["a"],{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),d.a.createElement(o["a"].Item,null,d.a.createElement(n["a"],{type:"primary",htmlType:"submit",className:v.a["login-form-button"]},"\u6ce8\u518c"),"\u5df2\u6709\u5e10\u53f7\uff1f ",d.a.createElement(g["a"],{to:"/sign/signin"},"\u5373\u523b\u767b\u5f55")))}}var E=o["a"].create({name:"normal_login"})(y);t["default"]=E}}]);